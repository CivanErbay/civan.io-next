//@ts-nocheck
import * as React from "react";
import { useEffect, useState } from "react";
import styles from "./CircuitBoard.module.css";
import { gsap } from "gsap";

const CircuitBoard = (props: any) => {
  /* const [isMobile, setIsMobile] = useState(false); */
  const [isFilled, setFilled] = useState(false);

  useEffect(() => {
    /*  window.screen.width < 768 ? setIsMobile(true) : ""; */
    const paths = document
      .querySelector("#croppedBoard")
      .querySelectorAll("svg path");

    const landingDivs = document
      .querySelector("#landingSection")
      .querySelectorAll("div");

    paths.forEach((item, index) => {
      let pathLength = item.getTotalLength();

      //console.log(item);

      // The start position of the drawing
      item.style.strokeDasharray = pathLength;
      // Hide the triangle by offsetting dash. Remove this line to show the triangle before scroll draw
      item.style.strokeDashoffset = pathLength;

      drawFunction(item, pathLength, landingDivs);
    });
  });

  const drawFunction = (path, pathLength, landingDivs) => {
    if (!isFilled) {
      let scrollpercent =
        (document.body.scrollTop + document.documentElement.scrollTop) /
        (document.documentElement.scrollHeight -
          document.documentElement.clientHeight);

      let draw = pathLength * scrollpercent;

     /*  landingDivs.forEach((div) => {
        div.style.boxShadow = `-${scrollpercent * 45}px ${
          scrollpercent * 60
        }px 0px ${scrollpercent * 15}px #47B5FF`;
      }); */

      // Reverse the drawing (when scrolling upwards)
      path.style.strokeDashoffset = pathLength - draw;

      if (scrollpercent > 0.6) {
        //document.body.style.backgroundColor = "green";
        setFilled(true);
        gsap.fromTo(
          ".pathStagger",
          { fill: "" },
          {
            fill: "#47B5FF",
            duration: 2,
          }
        );
        gsap.fromTo(
          "body",
          { backgroundColor: "#47B5FF" },
          {
            backgroundColor: "#06283D",
            duration: 3,
          }
        );
      }
    }
    /*  if (scrollpercent < 0.6) {
      gsap.fromTo(
        ".pathStagger",
        { fill: "black" },
        {
          fill: "",
          duration: 4,
        }
      );
    }
 */
    //path.style.fill = `rgba(0, 0, 0, ${scrollpercent})`;

    /*  if (scrollpercent > 0.5)
      gsap.to(".pathStagger", {
        stagger: 0.1,
        fill: "black",
        opacity: 1,
        duration: 2,
      }); */
  };

  return (
    <div className={styles.svgWrapper}>
      <svg
        width="140"
        height="140"
        viewBox="-20 0 1 160"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g stroke="#47B5FF" fill="none" strokeOpacity="1" id="croppedBoard">
          <path
            d="M12.094 2.1891C21.993 -1.1409 31.4921 2.69908 36.7491 13.7971C37.4871 17.2491 37.9141 20.9821 36.1701 24.2271C33.8461 28.5091 30.485 32.7241 25.636 34.2001C17.501 37.3391 4.66799 34.1831 0.840995 21.8241C-0.324005 18.2921 0.817034 14.6141 1.50603 11.1191C4.52803 6.5131 9.12305 3.3551 12.094 2.1891ZM14.2291 8.0201C9.06306 11.6001 8.67802 19.7131 12.741 24.2811C14.754 26.6051 17.8161 27.2451 20.7011 27.7941C29.6491 25.7941 31.0271 19.1651 29.8991 14.5341C28.5631 7.91607 19.8351 4.2991 14.2291 8.0201Z"
            className="pathStagger"
          />
          <path
            d="M65.301 9.69107C72.738 -2.38493 92.9709 -1.90894 98.8979 12.7591C100.964 20.9961 98.868 27.4001 91.219 32.5891C79.514 39.7531 64.4629 31.7511 63.0329 20.5611C62.7939 16.8341 63.172 12.8691 65.301 9.69107ZM78.6159 7.05008C75.2979 7.75808 72.663 10.6671 72.193 14.0101C72.101 16.9811 72.1009 20.1041 73.6319 22.7691C74.8949 24.4161 76.047 26.4531 78.188 27.0631C92.329 30.8101 97.5879 12.4151 85.0739 7.30008C82.9529 6.86708 80.7209 6.23908 78.6159 7.05008Z"
            className="pathStagger"
          />
          <path
            d="M140.887 1.20701C150.865 -0.630988 162.22 7.83107 161.912 17.5901C162.953 33.4321 140.843 41.254 130.176 29.503C125.306 24.91 122.178 15.742 129.633 6.97703C132.464 3.67703 136.636 1.81101 140.887 1.20701ZM135.965 22.873C140.804 31.19 154.666 27.385 154.282 16.389C154.373 10.631 148.817 5.87307 143.236 6.03807C138.877 6.40007 130.562 10.22 135.965 22.873Z"
            className="pathStagger"
          />
          <path
            d="M202.542 1.19507C212.37 -0.135931 222.143 5.11508 223.988 16.3221C225.191 26.1501 215.566 38.5091 199.608 33.8521C186.534 29.9221 183.192 13.155 193.649 5.10504C196.198 3.06104 199.34 1.81107 202.542 1.19507ZM197.711 11.6011C195.85 17.5271 198.777 26.3751 204.805 27.1981C210.52 28.5031 216.248 23.9041 216.931 18.2441C219.066 7.91208 203.262 0.825075 197.711 11.6011Z"
            className="pathStagger"
          />
          <path
            d="M255.541 5.36708C266.432 -6.21992 290.296 5.55605 285.856 21.5741C280.497 40.0871 254.884 37.8941 250.429 22.5561C249.502 19.7201 249.612 16.7071 249.807 13.7791C251.168 10.6371 252.815 7.54408 255.541 5.36708ZM259.915 10.3261C258.597 13.6621 260.83 16.8471 261.043 20.1591C264.962 32.1421 281.833 24.3371 278.848 13.1511C278.311 9.60708 275.597 6.7771 272.352 5.4781C267.771 3.7691 261.818 5.59906 259.915 10.3261Z"
            className="pathStagger"
          />
          <path
            d="M12.0329 61.9471C15.0769 61.3001 18.1869 60.3491 21.3349 60.9531C27.5139 61.7701 33.314 65.6681 36.029 71.3351C42.56 82.5221 30.1529 97.9701 15.8759 94.7511C6.24695 93.0571 -1.30904 84.4221 1.26096 74.4151C2.44496 68.7361 7.15393 64.6181 12.0329 61.9471ZM10.691 72.6511C9.91601 76.5851 10.587 80.8921 13.009 84.1671C18.005 92.7371 35.109 85.2821 29.722 72.6451C28.38 70.1201 26.032 68.2351 23.433 67.1251C18.658 65.3011 12.192 67.4551 10.691 72.6511Z"
            className="pathStagger"
          />
          <path
            d="M68.7231 64.9602C78.1651 57.8722 92.577 59.7881 97.891 70.3641C105.516 83.8041 91.2421 98.6211 76.8171 94.4031C69.8121 92.6981 61.231 85.3911 63.428 74.3841C64.508 70.9251 66.3081 67.6682 68.7231 64.9602ZM79.501 67.6502C67.796 74.9002 74.9351 88.1781 81.7581 88.4981C92.4391 90.2261 99.9321 73.5062 86.2961 67.6922C84.0511 67.1072 81.74 67.0342 79.501 67.6502Z"
            className="pathStagger"
          />
          <path
            d="M135.983 61.9891C145.973 59.3211 153.727 60.8941 159.82 69.2351C168.55 83.3081 154.217 97.4581 140.942 94.7561C134.184 93.9261 128.34 88.9001 125.797 82.6971C123.333 74.5611 128.389 65.3691 135.983 61.9891ZM137.081 81.5391C137.27 81.7521 137.654 82.1731 137.843 82.3871C141.486 89.0641 148.917 88.6141 154.001 83.3021C155.691 79.9781 157.02 75.7321 155.117 72.2251C153.354 68.4741 149.213 65.9851 145.065 66.3211C139.539 65.6401 132.884 72.3291 137.081 81.5391Z"
            className="pathStagger"
          />
          <path
            d="M203.628 60.8001C221.417 58.3881 231.266 78.6011 219.89 89.1811C207.546 102.362 185.091 90.3751 187.995 75.2311C189.257 67.6321 196.131 61.7881 203.628 60.8001ZM202.097 66.0521C199.2 67.1741 196.693 69.6871 196.077 72.7921C194.451 86.7571 207.651 89.6471 212.326 84.1311C219.791 77.5971 215.82 67.9881 208.569 65.8931C206.415 65.7221 204.189 65.5391 202.097 66.0521Z"
            className="pathStagger"
          />
          <path
            d="M262.629 61.3491C274.669 57.6001 287.497 67.796 286.93 77.983C287.185 92.3 267.085 100.651 255.718 89.3831C251.668 85.6561 248.85 79.8431 250.411 74.3051C251.717 68.1441 256.932 63.5331 262.629 61.3491ZM260.256 78.0981C261.378 80.4771 262.22 83.3311 264.837 84.5151C269.747 87.4371 276.384 84.8991 278.775 79.8791C278.873 78.9881 279.226 78.1771 279.714 77.4391C279.897 75.2131 280.428 72.7851 279.379 70.6931C275.429 61.7821 257.844 60.6691 260.256 78.0981Z"
            className="pathStagger"
          />
          <path
            d="M139.472 121.235C151.36 119.065 159.542 125.264 162.358 133.873C165.812 148.62 150.409 158.471 138.063 154.014C131.128 152.008 122.3 142.152 126.919 131.738C129.414 126.749 133.873 122.4 139.472 121.235ZM135.093 132.501C132.94 140.577 139.251 150.624 148.579 146.67C153.611 144.56 156.167 138.344 154.459 133.245C150.607 123.717 137.637 124.323 135.093 132.501Z"
            className="pathStagger"
          />
          <path
            d="M204.933 120.704C214.082 119.46 223.323 126.273 224.982 135.325C226.482 143.669 220.304 152.196 212.185 154.1C198.042 158.258 184.035 144.876 189.311 132.202C191.782 125.809 198.126 121.265 204.933 120.704ZM197.979 132.617C196.471 141.929 203.056 147.817 210.721 145.969C215.613 144.755 218.864 139.699 218.541 134.77C217.987 123.428 199.878 120.813 197.979 132.617Z"
            className="pathStagger"
          />
          <path
            d="M260.092 122.296C272.957 115.967 291.449 125.42 286.211 144.663C268.411 170.259 233.89 140.622 260.092 122.296ZM263.867 143.358C266.96 149.025 276.78 148.854 279.293 142.736L280.001 143.078C279.818 142.688 279.464 141.919 279.287 141.529L280.482 141.858C280.421 141.614 280.311 141.126 280.25 140.882C283.561 134.083 279.016 127.217 272.577 126.048C267.667 124.607 256.562 128.513 263.867 143.358Z"
            className="pathStagger"
          />
          <path
            d="M3.927 128.945C10.945 118.18 29.425 117.239 36.718 132.074C38.854 139.872 37.918 146.755 30.795 151.55C22.307 158.158 7.39401 155.824 2.07801 144.163C-0.0189942 139.216 0.670005 133.233 3.927 128.945ZM10.447 134.093C9.08202 139.073 12.2599 145.806 15.3149 147.36C26.1169 153.738 37.229 138.289 27.295 129.958C22.253 125.414 12.552 126.685 10.447 134.093Z"
            className="pathStagger"
          />
          <path
            d="M75.5241 121.741C93.0581 116.785 104.951 133.182 98.574 145.535C90.395 160.4 66.993 157.39 63.489 140.722C62.843 137.794 63.69 134.854 64.41 132.03C68.577 125.165 68.8851 124.901 75.5241 121.741ZM76.652 129.048C72.272 132.726 72.578 139.899 76.011 144.12C78.705 148.568 86.86 150.596 92.096 143.711C94.292 139.941 94.957 134.586 92.035 131.024C88.675 126.285 81.02 125.047 76.652 129.048Z"
            className="pathStagger"
          />
          <path
            d="M16.7481 181.432C29.2221 179.73 39.395 189.714 37.749 200.573C36.1 215.407 15.473 219.855 6.32399 210.034C-0.518013 203.651 -0.873024 193.147 6.28798 186.776C8.92898 183.689 12.7531 181.926 16.7481 181.432ZM11.0451 195.186C10.6141 200.773 13.81 209.436 23.677 207.654C29.758 206.013 33.54 198.328 30.484 192.649C26.176 183.201 10.5761 185.058 11.0451 195.186Z"
            className="pathStagger"
          />
          <path
            d="M79.483 181.365C91.84 178.858 105.925 192.353 98.7519 205.952C94.4799 213.32 85.96 217.16 75.543 214.15C65.585 210.707 57.4489 196.882 70.4499 185.031C72.9199 182.78 76.293 181.981 79.483 181.365ZM72.907 196.199C75.037 205.736 80.537 208.196 84.911 206.922C87.753 206.44 89.986 204.385 91.688 202.177C94.091 198.914 93.054 194.62 92.011 191.057C86.066 180.67 70.487 186.139 72.907 196.199Z"
            className="pathStagger"
          />
          <path
            d="M132.305 185.451C145.062 173.881 165.422 186.329 163.053 199.98C161.946 213.637 142.91 222.102 128.316 207.672C127.646 204.624 122.294 193.881 132.305 185.451ZM136.368 191.246C134.819 195.217 135.477 199.938 138.186 203.262C139.943 205.647 142.992 206.275 145.713 206.946C150.947 206.983 155.527 202.688 156.076 197.547C157.971 186.104 140.203 180.609 136.368 191.246Z"
            className="pathStagger"
          />
          <path
            d="M202.676 181.297C211.905 178.9 222.616 184.505 225.061 193.911C228.117 203.286 220.444 213.594 210.983 214.772C191.207 217.471 181.875 195.936 194.563 185.335C196.869 183.341 199.742 182.078 202.676 181.297ZM198.779 200.67C202.92 209.599 211.98 210.443 217.517 202.189C219.611 196.801 218.649 190.732 213.357 187.867C205.291 183.025 195.068 189.537 198.779 200.67Z"
            className="pathStagger"
          />
          <path
            d="M265.911 181.114C282.488 177.46 296.198 197.535 282.923 209.685C270.985 221.947 248.5 210.776 251.516 195.162C252.565 187.989 259 182.481 265.911 181.114ZM261.068 197.748C262.318 199.804 262.88 202.317 264.923 203.829C264.966 204.091 265.051 204.622 265.094 204.884C266.723 205.512 268.357 206.25 270.132 206.439C277.248 206.193 281.961 200.609 280.404 192.184C279.318 189.018 276.519 186.707 273.518 185.432C268.198 183.63 259.161 185.812 261.068 197.748Z"
            className="pathStagger"
          />
          <path
            d="M265.185 241.269C275.038 240.147 282.579 242.313 288.052 252.919C288.68 256.847 289.077 261.031 287.399 264.777C284.904 269.882 279.939 273.725 274.382 274.89C256.542 277.594 245.05 258.966 256.522 246.862C257.632 245.727 258.895 244.758 260.133 243.751C261.787 242.873 263.465 242.031 265.185 241.269ZM266.692 247.649C263.197 249.387 261.538 253.517 261.831 257.268C261.624 259.879 263.124 262.105 264.063 264.423C266.704 268.04 271.931 269.193 275.976 267.43C284.643 262.622 285.304 250.924 274.152 246.99C271.663 246.746 268.948 246.301 266.692 247.649Z"
            className="pathStagger"
          />
          <path
            d="M14.498 241.97C41.602 237.73 45.7759 271.331 23.6899 275.469C3.43294 277.512 -4.42306 259.121 5.51294 247.569C7.86094 244.825 11.228 243.318 14.498 241.97ZM17.297 248.192C8.45499 254.027 12.276 258.309 13.491 264.026C17.098 269.761 24.377 270.574 27.904 266.997C35.466 260.37 32.216 251.329 25.312 248.29C22.817 247.021 19.871 247.46 17.297 248.192Z"
            className="pathStagger"
          />
          <path
            d="M79.9649 241.537C99.5299 238.453 110.535 266.322 89.151 274.566C78.122 278.642 64.667 271.528 63.868 259.134C63.563 250.259 71.2789 242.348 79.9649 241.537ZM74.749 253.517C74.343 255.572 76.0009 266.515 81.8979 268.016C94.0779 270.136 97.979 256.706 92.219 250.467C86.885 244.118 75.795 246.278 74.749 253.517Z"
            className="pathStagger"
          />
          <path
            d="M140.46 241.69C151.287 238.545 164.805 247.73 163.474 260.477C161.699 276.739 140.125 279.305 131.439 269.761C128.267 266.699 126.626 262.319 126.632 257.958C126.968 250.235 132.812 243.172 140.46 241.69ZM137.325 253.108C136.514 255.298 137.807 257.305 138.685 259.226C139.531 260.766 138.987 268.583 146.401 268.424C150.713 268.863 154.94 266.051 156.551 262.105C156.557 260.605 155.685 259.336 154.996 258.085C154.045 256.06 155.429 254.084 155.283 252.071C154.039 248.783 150.324 247.02 146.982 246.911C142.851 246.508 138.765 249.29 137.325 253.108Z"
            className="pathStagger"
          />
          <path
            d="M203.219 241.58C219.393 237.335 233.818 256.3 222.225 269.126C214.871 277.418 203.775 275.346 199.693 273.475C192.638 270.452 186.479 262.488 190.623 252.163C192.502 246.667 197.815 243.068 203.219 241.58ZM199.791 263.807C206.461 271.184 213.817 268.323 216.656 263.057C217.528 260.642 217.644 258.025 217.736 255.487C217.87 252.279 215.473 249.54 212.801 248.082C210.422 246.612 207.5 246.697 204.835 246.996C200.637 247.781 194.533 252.518 199.791 263.807Z"
            className="pathStagger"
          />
        </g>
      </svg>
    </div>
  );
};

export default CircuitBoard;
